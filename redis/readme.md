# MUF共有メモリインフラストラクチャの設定
本ディレクトリでは、MUF（Memory Unit Framework）の心臓部となるRedis共有メモリ環境を構築します。複数の独立したユニットコンテナが同一のメモリ空間を参照するためには、Dockerのプロジェクト境界を越えて通信できる共通のネットワーク基盤が必要です。

## 共通ネットワークの作成
Redisコンテナおよび今後追加される全てのアプリケーションユニットが参加するための仮想バスとして、外部ネットワーク（external network）を事前に作成する必要があります。以下のコマンドをターミナルで一度だけ実行してください。この操作により、異なるディレクトリにあるdocker-compose.yml同士が、ネットワーク名を通じて互いを認識できるようになります。

> docker network create muf-network

このコマンドは一度実行すればホストマシンに永続的に保存されるため、日々の開発において再実行する必要はありません。

## Redis環境の起動
ネットワークの作成が完了したら、本ディレクトリで以下のコマンドを実行してRedisサーバーをバックグラウンドで起動します。

> docker compose up -d

この設定により起動するRedisは、MUFプロトコルの要件を満たすために、ハッシュ操作の通知機能（Keyspace Notifications）が有効化されており、ユニット間のリアルタイムな状態同期が可能な状態で待機します。各ユニットコンテナは、接続先ホスト名として muf-redis を指定することで、この共通ネットワークを介してメモリ空間にアクセスできます。