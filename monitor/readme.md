# MUF モニターユニット
本ディレクトリには、MUF（Memory Unit Framework）の共有メモリ空間を可視化するための専用ユニットが格納されています。このユニットは、特定のキーパスにおけるハッシュデータの状態をリアルタイムで追跡し、変更が発生するたびに最新の状態を標準出力へ書き出す役割を担います。これにより、分散された各ユニット間で行われるフラグのやり取りやデータの遷移を、開発者が直感的に把握することが可能になります。

## ユニットの起動とバックグラウンド運用
モニターユニットを起動して常駐させるためには、本ディレクトリで次のコマンドを実行してください。

> docker compose up -d

このコマンドを実行することで、モニターはコンテナとして独立して動き始めます。起動した瞬間に共有メモリの現在の全データを一度取得して出力し、その後は他のユニットによる書き換えをミリ秒単位で待ち受ける監視モードへと移行します。バックグラウンドで動作させることにより、他の作業を行いながらでも常に「世界の監視」を継続させることができます。

## ログ監視によるリアルタイム表示
バックグラウンドで動作しているモニターの出力を確認したい場合や、共有メモリの変化をリアルタイムで追いかけたい場合には、次のコマンドを利用してください。

> docker compose logs -f muf-monitor

この操作により、現在のターミナルがモニターユニットの出力ストリームに接続されます。共有メモリ上でリクエストフラグが立ち、データが書き込まれ、最終的に回答フラグが更新されるまでの一連の状態遷移が、画面上に順次表示されていきます。表示の確認を終えたい場合はキーボードのCtrl+Cを押下してください。表示を終了してもユニット自体はコンテナ内で動作を続けているため、再度このコマンドを実行すればいつでも最新の監視結果を覗き見ることが可能です。

## 監視対象のカスタマイズ
監視するメモリパスや接続先のRedis情報は、docker-compose.yml内の環境変数セクションで定義されています。TARGET_PATHの値を書き換えることで、デバッグしたい特定の機能やユニットの番地に絞って監視を行うことができます。設定を変更した際は、再度docker compose up -dを実行することで、新しい設定に基づいた監視が再開されます。