# MUFプロトコル デバッグコマンド集

### 1. 全リクエストのリアルタイム追跡
Redisサーバーが受け取っているすべての命令をリアルタイムで表示します。
コマンド: redis-cli monitor
用途: どのユニットがいつ、どのパスにデータを書き込んだか、またTTL（EXPIRE）が正しく設定されたかをすべて時系列で確認できます。

### 2. 現在存在しているキーパスのツリー確認
現在Redis上に保持されているMUF関連のキーを一覧表示します。
コマンド: redis-cli --tree
（または） redis-cli KEYS "MUF/*"
用途: 階層構造が正しく構築されているか、古いリクエストが残っていないかを確認するのに適しています。

### 3. データ内容と有効期限の精査
特定のパスに書き込まれたデータ本体と、消滅までの残り時間を確認します。
内容確認: redis-cli GET [キーパス]
残り時間確認: redis-cli TTL [キーパス]
用途: TTLが期待通りにカウントダウンされているか、データがバイナリとして正しく格納されているかを検証します。

### 4. キー空間通知のシミュレーション
SDKのWatcherが受け取っている通知をターミナル上で手動で再現します。
コマンド: redis-cli --csv psubscribe "__keyspace@0__:MUF/*"
用途: Keyspace Notificationsが正しく発行されているかを物理層に近いレベルで確認できます。